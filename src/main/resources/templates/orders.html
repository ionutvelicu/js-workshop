<!DOCTYPE html>
<html lang="en">
<head>
    <title>Orders</title>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://momentjs.com/downloads/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.min.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/index.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">

</head>
<body>
    <header class="main">
        <h1>Dashboard</h1>
    </header>

    <div class="wrap">
        <div id="side">
            <ul>
                <li><a class="selected">Orders</a></li>
            </ul>
        </div>
        <div id="content">
            <div id="searchOrders" class="content">
                <div class="row">
                    <div class="col">
                        <div class="card">
                            <div class="card-body">
                                <form id="search-form">
                                    <h4>Search</h4>
                                    <div class="row">
                                        <div class="form-group col">
                                            <label for="searchId">Id</label>
                                            <input type="text" class="form-control search-field" id="searchId" data-name="id" placeholder="Id">
                                        </div>
                                        <div class="form-group col">
                                            <label for="searchStatus">Status</label>
                                            <input type="text" class="form-control search-field" id="searchStatus" data-name="status" placeholder="Status">
                                        </div>
                                        <div class="form-group col">
                                            <label for="searchAfter">Placed after</label>
                                            <input type="text" class="form-control search-field" id="searchAfter" data-name="after" placeholder="Placed after">
                                        </div>
                                        <div class="form-group col">
                                            <label for="createdBy">Created by</label>
                                            <input type="text" class="form-control search-field" id="createdBy" data-name="createdBy" placeholder="Created by">
                                        </div>
                                        <div class="col">
                                            <a style="color: #FFF; margin-top: 2rem;"class="btn btn-primary">Search</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <table class="table" style="margin-top: 2rem">
                            <thead>
                                <tr>
                                    <th scope="col">#ID</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Created</th>
                                    <th scope="col">Website</th>
                                    <th scope="col" class="subtotal">Subtotal</th>
                                    <th scope="col" class="total">Total</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="orderList">
                            </tbody>
                        </table>


                        <div id="pagination" style="margin-top: 2rem; display: flex">
                            <ul class="pagination" style="margin: 0 auto;">
                                <li>
                                    <ul>

                                    </ul>
                                </li>
                            </ul>
                            <ul>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="orderDetails" class="content" style="display: none">
                <div style="padding-bottom: 1rem; margin-bottom: 1rem; border-bottom: 1px solid #DDD; color: #FFF !important;">
                    <a id="backToOrder" class="btn btn-primary">Back to orders</a>
                </div>
                <div class="row">
                    <div class="col">
                        <table class="table" style="margin-top: 2rem">
                            <thead>
                            <tr>
                                <th scope="col">Key</th>
                                <th scope="col">Value</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody id="orderInfo">
                            </tbody>
                        </table>
                    </div>
                    <div class="col">
                        <table class="table" style="margin-top: 2rem">
                            <thead>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Name</th>
                                <th scope="col">Quantity</th>
                                <th scope="col" class="total">Price</th>
                            </tr>
                            </thead>
                            <tbody id="orderItems">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script id="orderRowTemplate" type="text/x-handlebars-template">
        <tr>
            <td>{{id}}</td>
            <td><span class="badge badge-pill badge-primary">{{status}}</span></td>
            <td>{{date}}</td>
            <td>{{website}}</td>
            <td class="subtotal"> &euro; {{subTotal}}</td>
            <td class="total"> &euro;{{total}}</td>
            <td><a class="btn btn-success btn-sm view-order" data-id="{{id}}">View</a></td>
        </tr>
    </script>

    <script id="orderInfoTemplate" type="text/x-handlebars-template">
        <tr>
            <td>ID</td>
            <td>{{order.id}}</td>
        </tr>
        <tr>
            <td>Author</td>
            <td>{{order.member.firstName}} {{order.member.lastName}}</td>
        </tr>
        <tr>
            <td>Status</td>
            <td>
                <div id="statusLabelBlock">
                    {{order.status}}
                    <a id="showStatusEditBlock">Edit</a>
                </div>

                <div id="statusEditBlock" style="display: none">
                    <div style="display: inline-block">
                        <input id="statusField" type="text" class="form-control" style="width: 200px; display: inline-block;" />
                        <div id="statusSuggestionWrap" style="position: relative;"></div>
                    </div>
                    <a id="saveNewStatus" class="btn btn-primary btn-sm" style="color: #FFF !important">Save</a>
                </div>
            </td>
        </tr>
        <tr>
            <td>Website</td>
            <td>{{order.website}}</td>
        </tr>
        <tr>
            <td>Subtotal</td>
            <td>{{order.subtotal}}</td>
        </tr>
        <tr>
            <td>Total</td>
            <td>{{order.total}}</td>
        </tr>
    </script>

    <script id="statusSuggestionTemplate" type="text/x-handlebars-template">
        <div id="statusSuggestionDropdown" class="dropdown-menu show">
            {{#each suggestions}}
            <a class="dropdown-item status-suggestion" data-text="{{this}}">{{this}}</a>
            {{/each}}
        </div>
    </script>

    <script src="/js/domain.js"></script>
    <script src="/js/store.js"></script>
    <script src="/js/service.js"></script>
    <script src="/js/html.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>